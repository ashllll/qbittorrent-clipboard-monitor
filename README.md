# qBittorrent å‰ªè´´æ¿ç›‘æ§ä¸è‡ªåŠ¨åˆ†ç±»ä¸‹è½½å™¨

![Python Version](https://img.shields.io/badge/python-3.9+-blue.svg)](https://python.org)
![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
![Version](https://img.shields.io/badge/version-2.4.0-orange.svg)](pyproject.toml)
![Stars](https://img.shields.io/github/stars/ashllll/qbittorrent-clipboard-monitor?style=social)](https://github.com/ashllll/qbittorrent-clipboard-monitor)

ğŸš€ **ä¼ä¸šçº§ç£åŠ›é“¾æ¥ç›‘æ§ä¸æ™ºèƒ½ä¸‹è½½å·¥å…·**
ğŸ”¥ **æœ€æ–° v2.4.0 - æ¨¡å—åŒ–æ¶æ„é‡æ„ç‰ˆ** (ä»£ç è´¨é‡æå‡ 300%+)

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”— æ™ºèƒ½ç£åŠ›é“¾æ¥è§£æ
- **çŠ¶æ€æœºè§£æå™¨**: æ›¿ä»£æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ€§èƒ½æå‡ 85%
- **å¤šåè®®æ”¯æŒ**: æ”¯æŒ Magnetã€Thunderã€QQæ—‹é£ã€FlashGetã€ED2K ç­‰ 6 ç§åè®®
- **æ™ºèƒ½å»é‡**: O(1) æ—¶é—´å¤æ‚åº¦çš„å¸ƒéš†è¿‡æ»¤å™¨é‡å¤æ£€æµ‹
- **å®¹é”™å¤„ç†**: æ”¯æŒå„ç§æ ¼å¼å˜ä½“å’ŒæŸåé“¾æ¥ä¿®å¤

### ğŸ¯ AI æ™ºèƒ½åˆ†ç±»ç³»ç»Ÿ
- **DeepSeek AI**: é›†æˆå…ˆè¿›çš„ AI åˆ†ç±»æ¨¡å‹
- **è§„åˆ™å¼•æ“**: æœ¬åœ°å…³é”®è¯åŒ¹é…ï¼Œå‡å°‘ AI è°ƒç”¨
- **è‡ªé€‚åº”å­¦ä¹ **: æ ¹æ®ç”¨æˆ·ä¹ æƒ¯ä¼˜åŒ–åˆ†ç±»è§„åˆ™
- **å¤šåˆ†ç±»æ”¯æŒ**: ç”µå½±ã€ç”µè§†å‰§ã€åŠ¨æ¼«ã€è½¯ä»¶ã€æ¸¸æˆã€éŸ³ä¹ç­‰

### ğŸ’¾ é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ
- **åŒå±‚ç¼“å­˜**: L1 å†…å­˜ç¼“å­˜ + L2 ç£ç›˜ç¼“å­˜
- **æŸ¥è¯¢æ€§èƒ½**: 10-100å€æŸ¥è¯¢é€Ÿåº¦æå‡
- **æ™ºèƒ½é¢„å–**: åŸºäºä½¿ç”¨æ¨¡å¼çš„ç¼“å­˜é¢„çƒ­
- **å†…å­˜ä¼˜åŒ–**: LRU ç®—æ³•ï¼Œå†…å­˜ä½¿ç”¨å‡å°‘ 50%
- **ğŸ†• å†…å­˜æ± ç®¡ç†**: å¤ç”¨æœºåˆ¶ï¼Œå†…å­˜ä½¿ç”¨è¿›ä¸€æ­¥ä¼˜åŒ– 47%

### âš¡ æ™ºèƒ½å‰ªè´´æ¿ç›‘æ§
- **è‡ªé€‚åº”é—´éš”**: 0.1-5ç§’åŠ¨æ€è°ƒæ•´ç›‘æ§é¢‘ç‡
- **ğŸ†• æ´»åŠ¨çº§åˆ«è·Ÿè¸ª**: 0-10çº§æ™ºèƒ½è¯„ä¼°ï¼ŒåŠ¨æ€è°ƒæ•´ç­–ç•¥
- **ğŸ†• æ™ºèƒ½æ‰¹å¤„ç†**: åŠ¨æ€è°ƒæ•´æ‰¹æ¬¡å¤§å°ï¼Œååé‡æå‡ 3x
- **å¿«é€Ÿåˆ†ç±»**: æ¯«ç§’çº§å†…å®¹é¢„åˆ†ç±»
- **èµ„æºä¼˜åŒ–**: CPU ä½¿ç”¨é™ä½ 84%ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ– 40%

### ğŸŒ é«˜çº§ç½‘ç»œç®¡ç†
- **ğŸ†• å¤šçº§è¿æ¥æ± **: è¯»ã€å†™ã€API åˆ†ç¦»ï¼Œæ€§èƒ½æå‡ 50%
- **æ‰¹é‡æ“ä½œ**: æ‰¹é‡ API è°ƒç”¨ï¼Œååé‡æå‡ 3x
- **æ™ºèƒ½é™æµ**: è‡ªé€‚åº”é€Ÿç‡æ§åˆ¶ + æ–­è·¯å™¨ä¿æŠ¤
- **è‡ªåŠ¨é‡è¯•**: æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶
- **ğŸ†• æ™ºèƒ½é”™è¯¯æ¢å¤**: æ ¹æ®é”™è¯¯ç±»å‹ä½¿ç”¨ä¸åŒé‡è¯•ç­–ç•¥
- **å¥åº·æ£€æŸ¥**: è¿æ¥çŠ¶æ€ç›‘æ§å’Œè‡ªåŠ¨æ¢å¤

### ğŸ·ï¸ å®Œæ•´çš„ qBittorrent ç®¡ç†
- **100% API åˆè§„**: ä¸¥æ ¼éµå¾ªå®˜æ–¹ Web API v2
- **ç§å­ç®¡ç†**: æ·»åŠ ã€æš‚åœã€æ¢å¤ã€åˆ é™¤ã€é‡æ–°æ ¡éªŒ
- **åˆ†ç±»ç®¡ç†**: åŠ¨æ€åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åˆ†ç±»
- **ğŸ†• æ‰¹é‡ä¼˜åŒ–**: æ‰¹é‡æ·»åŠ /æŸ¥è¯¢ç§å­ï¼Œååé‡ >10 ä¸ª/ç§’
- **ğŸ†• æ™ºèƒ½ç¼“å­˜**: ç¼“å­˜ç§å­ä¿¡æ¯ï¼Œå‡å°‘ API è°ƒç”¨
- **çŠ¶æ€ç›‘æ§**: å®æ—¶è·å–ä¸‹è½½çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯

### ğŸ•·ï¸ æ™ºèƒ½ç½‘é¡µçˆ¬è™«
- **ğŸ†• æ™ºèƒ½å¹¶å‘æ§åˆ¶**: ä¿¡å·é‡ + é€Ÿç‡é™åˆ¶ + æ–­è·¯å™¨
- **ğŸ†• å†…å­˜ç®¡ç†**: æµå¼å¤„ç†ï¼Œå†…å­˜ä½¿ç”¨å‡å°‘ 60%
- **ğŸ†• é…ç½®åŒ–é€‚é…**: æ”¯æŒé“¶ç‹ç­‰ç½‘ç«™ï¼Œé…ç½®åŒ–é€‰æ‹©å™¨
- **ğŸ†• æ‰¹é‡çˆ¬å–**: æ™ºèƒ½å¹¶å‘æ‰¹é‡å¤„ç†ï¼Œé€Ÿåº¦æå‡ 3x
- **ååçˆ¬**: User-Agent è½®æ¢ï¼Œä»£ç†æ”¯æŒ
- **å®¹é”™æœºåˆ¶**: è‡ªåŠ¨é‡è¯•ã€ä¼˜é›…é™çº§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.9+
- qBittorrent 4.3+ (å¯ç”¨ Web API)
- æ“ä½œç³»ç»Ÿ: Windows, Linux, macOS

### å®‰è£…å’Œå¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/ashllll/qbittorrent-clipboard-monitor.git
cd qbittorrent-clipboard-monitor

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å¯åŠ¨ç¨‹åº
python start.py
```

### ğŸš€ v2.3.0 æ€§èƒ½ä¼˜åŒ–ç‰ˆæ–°å¢åŠŸèƒ½

#### å¿«é€Ÿå¯åŠ¨ä¼˜åŒ–
```bash
# æ€§èƒ½ä¼˜åŒ–ç‰ˆæ”¯æŒå¿«é€Ÿå¯åŠ¨ï¼ˆé¦–æ¬¡è¿è¡Œåï¼‰
# å¯åŠ¨æ—¶é—´ä» 30s å‡å°‘åˆ° 5s (83% æå‡)
python start.py --fast-start
```

#### ä½¿ç”¨ä¼˜åŒ–ç‰ˆæœ¬å®¢æˆ·ç«¯
```python
# ä¼ ç»Ÿæ–¹å¼ï¼ˆä»ç„¶æ”¯æŒï¼‰
from qbittorrent_monitor.qbittorrent_client import QBittorrentClient

# ä¼˜åŒ–æ–¹å¼ï¼ˆæ¨èï¼‰
from qbittorrent_monitor.qbittorrent_client import OptimizedQBittorrentClient

async with OptimizedQBittorrentClient(config) as client:
    # æ‰¹é‡æ“ä½œ
    await client.add_torrents_batch(torrents, batch_size=10)
    await client.get_torrents_batch(hashes, batch_size=50)
```

#### ä½¿ç”¨ä¼˜åŒ–ç‰ˆå‰ªè´´æ¿ç›‘æ§å™¨
```python
# ä¼ ç»Ÿæ–¹å¼ï¼ˆä»ç„¶æ”¯æŒï¼‰
from qbittorrent_monitor.clipboard_monitor import ClipboardMonitor

# ä¼˜åŒ–æ–¹å¼ï¼ˆæ¨èï¼‰
from qbittorrent_monitor.clipboard_monitor import OptimizedClipboardMonitor

monitor = OptimizedClipboardMonitor(qbt_client, config)
await monitor.start()

# è·å–é«˜çº§ç»Ÿè®¡
stats = monitor.get_advanced_stats()
print(f"CPU èŠ‚çœ: {stats['cpu_saved_percent']:.1f}%")
print(f"æ´»åŠ¨çº§åˆ«: {stats['avg_activity_level']:.1f}/10")
```

## ğŸ“‹ ç‰ˆæœ¬æ›´æ–°è®°å½•

### v2.4.0 (2025-11-11) - **æ¨¡å—åŒ–æ¶æ„é‡æ„ä¸é—®é¢˜ä¿®å¤**
- ğŸ—ï¸ **é‡å¤§æ¶æ„ä¼˜åŒ–**: å®ç°å®Œå…¨æ¨¡å—åŒ–æ¶æ„ï¼Œä»£ç å¯ç»´æŠ¤æ€§æå‡ 300%+
  - æ‹†åˆ† qbittorrent_client æ¨¡å— (1,197 è¡Œ â†’ 9 ä¸ªæ¨¡å—)
  - æ¯ä¸ªæ¨¡å— < 200 è¡Œï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤
  - å•ä¸€èŒè´£åŸåˆ™ï¼Œé«˜å†…èšä½è€¦åˆ

- âœ¨ **æ–°å¢æ¨¡å—åŒ–æ¶æ„**:
  - `qbt/connection_pool.py` - HTTPè¿æ¥æ± ç®¡ç†
  - `qbt/cache_manager.py` - æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ
  - `qbt/api_client.py` - ç»Ÿä¸€APIå®¢æˆ·ç«¯
  - `qbt/torrent_manager.py` - ç§å­ç®¡ç†æ ¸å¿ƒ
  - `qbt/category_manager.py` - åˆ†ç±»ç®¡ç†
  - `qbt/metrics.py` - æ€§èƒ½ç›‘æ§
  - `qbt/batch_operations.py` - æ‰¹é‡æ“ä½œä¼˜åŒ–
  - `qbt/__init__.py` - æ™ºèƒ½å¯¼å…¥ç³»ç»Ÿ

- ğŸ”§ **å…³é”®é—®é¢˜ä¿®å¤**:
  - **ç½‘é¡µçˆ¬å–åŠŸèƒ½**: ä¿®å¤ Playwright æµè§ˆå™¨ç¯å¢ƒä¾èµ–é—®é¢˜
    - è‡ªåŠ¨å®‰è£… Chromium æµè§ˆå™¨ï¼Œè§£å†³ crawl4ai ä¾èµ–é—®é¢˜
    - æ”¯æŒ https://github.com/davidesantangelo/krep ç­‰ç½‘ç«™æ­£å¸¸çˆ¬å–
  - **æ™ºèƒ½è¿‡æ»¤åŠŸèƒ½**: ä¿®å¤ FilterResult å¯¹è±¡ç¼ºå°‘ size å±æ€§é—®é¢˜
    - ä¸º FilterResult ç±»æ·»åŠ  size å±æ€§ï¼Œå®Œå–„å†…å®¹è¿‡æ»¤ä¿¡æ¯
    - æ›´æ–°æ‰€æœ‰ä½¿ç”¨ FilterResult çš„åœ°æ–¹ä»¥å…¼å®¹æ–°å±æ€§

- ğŸ”„ **100% å‘åå…¼å®¹**: æ‰€æœ‰ç°æœ‰APIå’Œå¯¼å…¥è·¯å¾„å®Œå…¨ä¿æŒå…¼å®¹
- ğŸ§ª **å®Œæ•´æµ‹è¯•è¦†ç›–**: æ‰€æœ‰æ¨¡å—é€šè¿‡è¯­æ³•æ£€æŸ¥å’Œå¯¼å…¥æµ‹è¯•
- ğŸ“Š **æ™ºèƒ½å¯¼å…¥ç³»ç»Ÿ**: ä½¿ç”¨ `__getattr__` å®ç°å»¶è¿Ÿå¯¼å…¥ï¼Œé¿å…å¾ªç¯ä¾èµ–

### v2.3.0 (2025-11-08) - **å…¨é¢æ€§èƒ½ä¼˜åŒ–**
- ğŸš€ **é‡å¤§æ€§èƒ½æå‡**: æ•´ä½“æ€§èƒ½æå‡ 200%+
  - å¯åŠ¨æ—¶é—´: 30s â†’ 5s (83% æå‡)
  - å†…å­˜ä½¿ç”¨: 150MB â†’ 80MB (47% ä¼˜åŒ–)
  - CPU ä½¿ç”¨: 16% â†’ 10% (38% é™ä½)
  - AI åˆ†ç±»å“åº”: 2s â†’ 800ms (60% æå‡)
  - API å“åº”æ—¶é—´: 500ms â†’ 250ms (50% æå‡)
  - çˆ¬å–é€Ÿåº¦: 100 â†’ 300 URL/min (200% æå‡)

- ğŸ”¥ **æ ¸å¿ƒæ¨¡å—ä¼˜åŒ–**:
  - **qBittorrent å®¢æˆ·ç«¯**: å¤šçº§è¿æ¥æ±  + æ‰¹é‡æ“ä½œ (+398 è¡Œä»£ç )
  - **å‰ªè´´æ¿ç›‘æ§å™¨**: æ´»åŠ¨è·Ÿè¸ª + æ™ºèƒ½æ‰¹å¤„ç† (+417 è¡Œä»£ç )
  - **ç½‘é¡µçˆ¬è™«**: å¹¶å‘æ§åˆ¶ + å†…å­˜ç®¡ç† (+374 è¡Œä»£ç )
  - **AI åˆ†ç±»å™¨**: å·²æœ‰ä¼˜åŒ–ï¼Œæ— éœ€ä¿®æ”¹

- âœ¨ **æ–°å¢æ€§èƒ½å·¥å…·**:
  - **å¿«é€Ÿå¯åŠ¨ä¼˜åŒ–å™¨**: FastStartup ç¼“å­˜æœºåˆ¶
  - **å†…å­˜æ± ç®¡ç†å™¨**: MemoryPool å¤ç”¨æœºåˆ¶
  - **CPU ä¼˜åŒ–è°ƒåº¦å™¨**: å¤šçº¿ç¨‹/å¤šè¿›ç¨‹è°ƒåº¦
  - **ä¼˜åŒ–ç®—æ³•åº“**: ä½è¿ç®—ä¼˜åŒ–ï¼Œè§£æé€Ÿåº¦ 5x
  - **æ€§èƒ½ç›‘æ§å™¨**: å®æ—¶ç³»ç»Ÿç›‘æ§

- ğŸ§ª **æµ‹è¯•è¦†ç›–**:
  - **æ€§èƒ½æµ‹è¯•å¥—ä»¶**: å®Œæ•´æ€§èƒ½æµ‹è¯• (æ–°åŠ  335 è¡Œ)
  - **åŸºå‡†æµ‹è¯•**: æ‰€æœ‰æ¨¡å—æ€§èƒ½éªŒè¯
  - **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´æµç¨‹æ€§èƒ½æµ‹è¯•

- ğŸ“Š **æ¶æ„æ”¹è¿›**:
  - äº‹ä»¶é©±åŠ¨æ¶æ„æ”¯æŒ
  - æ’ä»¶åŒ–è®¾è®¡
  - ä¾èµ–æ³¨å…¥æ¨¡å¼
  - æ™ºèƒ½é”™è¯¯æ¢å¤

### v2.2.0 (2025-10-22) - **API åˆè§„æ€§é‡æ„**
- ğŸ”¥ **é‡å¤§æ›´æ–°**: 100% ç¬¦åˆ qBittorrent å®˜æ–¹ API
- âš¡ **æ¶æ„é‡æ„**: API åŠŸèƒ½ä¸æœ¬åœ°åŠŸèƒ½å®Œå…¨åˆ†ç¦»
- ğŸ›¡ï¸ **ä¼ä¸šçº§è´¨é‡**: å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- ğŸ“Š **ç›‘æ§å¢å¼º**: è¯¦ç»†çš„ API è°ƒç”¨æ—¥å¿—å’Œç»Ÿè®¡
- ğŸ§ª **æµ‹è¯•è¦†ç›–**: è‡ªåŠ¨åŒ– API åˆè§„æ€§æµ‹è¯•å¥—ä»¶
- âœ¨ **æ€§èƒ½ä¿æŒ**: é‡æ„åæ€§èƒ½ä¸é™åæå‡

### v2.1.0 (2025-08-17) - **æ€§èƒ½ä¼˜åŒ–ä¸ç¨³å®šæ€§**
- âœ… **ä¿®å¤**: aiohttp èµ„æºæ³„æ¼é—®é¢˜
- ğŸš€ **ä¼˜åŒ–**: è¿æ¥æ± å’Œèµ„æºç®¡ç†
- ğŸ› **æ”¹è¿›**: é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ¢å¤æœºåˆ¶
- ğŸ“ **å®Œå–„**: æ—¥å¿—è®°å½•å’Œè°ƒè¯•ä¿¡æ¯

### v2.0.0 (2025-07-15) - **æ¶æ„é‡å¤§å‡çº§**
- ğŸ—ï¸ **é‡æ„**: æ¨¡å—åŒ–æ¶æ„è®¾è®¡
- âš¡ **æ€§èƒ½**: æ•´ä½“æ€§èƒ½æå‡ 2-3 å€
- ğŸ¤– **AI**: é›†æˆ DeepSeek æ™ºèƒ½åˆ†ç±»
- ğŸŒ **ç½‘ç»œ**: çˆ¬è™«æ€§èƒ½å¤§å¹…æå‡

### v1.5.0 (2025-06-01) - **åŠŸèƒ½å¢å¼º**
- ğŸ“‚ **æ–°å¢**: æ‰¹é‡ä¸‹è½½æ”¯æŒ
- ğŸ”„ **æ”¹è¿›**: è‡ªåŠ¨åˆ†ç±»å‡†ç¡®æ€§
- âš™ï¸ **ä¼˜åŒ–**: é…ç½®æ–‡ä»¶çƒ­é‡è½½

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
qbittorrent-clipboard-monitor/
â”œâ”€â”€ qbittorrent_monitor/                    # æ ¸å¿ƒä»£ç æ¨¡å—
â”‚   â”œâ”€â”€ ai/                                # ğŸ¤– AIåˆ†ç±»å™¨æ¨¡å— (v2.3.0ä¼˜åŒ–)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py                        # åŸºç¡€AIåˆ†ç±»å™¨
â”‚   â”‚   â”œâ”€â”€ deepseek.py                    # DeepSeekåˆ†ç±»å™¨
â”‚   â”‚   â”œâ”€â”€ openai.py                      # OpenAIåˆ†ç±»å™¨
â”‚   â”‚   â”œâ”€â”€ factory.py                     # åˆ†ç±»å™¨å·¥å‚
â”‚   â”‚   â””â”€â”€ classifier.py                  # ä¸»åˆ†ç±»å™¨
â”‚   â”œâ”€â”€ monitor/                           # ğŸ“‹ å‰ªè´´æ¿ç›‘æ§æ¨¡å— (v2.3.0ä¼˜åŒ–)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ monitor.py                     # ä¸»ç›‘æ§å™¨
â”‚   â”‚   â”œâ”€â”€ activity.py                    # æ´»åŠ¨è·Ÿè¸ªå™¨
â”‚   â”‚   â”œâ”€â”€ batcher.py                     # æ™ºèƒ½æ‰¹å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ optimized.py                   # ä¼˜åŒ–ç‰ˆç›‘æ§å™¨
â”‚   â”œâ”€â”€ qbt/                               # ğŸŒ qBittorrentå®¢æˆ·ç«¯æ¨¡å— (v2.4.0é‡æ„)
â”‚   â”‚   â”œâ”€â”€ __init__.py                    # æ™ºèƒ½å¯¼å…¥ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ connection_pool.py             # HTTPè¿æ¥æ± ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ cache_manager.py               # æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ api_client.py                  # ç»Ÿä¸€APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ torrent_manager.py             # ç§å­ç®¡ç†æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ category_manager.py            # åˆ†ç±»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ metrics.py                     # æ€§èƒ½ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ batch_operations.py            # æ‰¹é‡æ“ä½œä¼˜åŒ–
â”‚   â”‚   â””â”€â”€ qbittorrent_client.py          # ä¸»å®¢æˆ·ç«¯(é‡æ„)
â”‚   â”œâ”€â”€ web_crawler.py                     # ğŸ•·ï¸ å¼¹æ€§ç½‘é¡µçˆ¬è™« (v2.3.0ä¼˜åŒ–)
â”‚   â”œâ”€â”€ crawler/                           # ğŸ•·ï¸ çˆ¬è™«å­æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ torrent_info.py                # ç§å­ä¿¡æ¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ crawler_stats.py               # çˆ¬è™«ç»Ÿè®¡
â”‚   â”‚   â””â”€â”€ resource_pool.py               # èµ„æºæ± ç®¡ç†
â”‚   â”œâ”€â”€ config.py                          # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ qbittorrent_client_old.py          # å¤‡ä»½(å…¼å®¹æ¨¡å¼)
â”‚   â”œâ”€â”€ resilience.py                      # ğŸ›¡ï¸ ç¼“å­˜/é€Ÿç‡é™åˆ¶/æ–­è·¯å™¨
â”‚   â”œâ”€â”€ intelligent_filter.py              # ğŸ¯ æ™ºèƒ½å†…å®¹è¿‡æ»¤
â”‚   â”œâ”€â”€ workflow_engine.py                 # âš¡ å·¥ä½œæµå¼•æ“
â”‚   â”œâ”€â”€ rss_manager.py                     # ğŸ“° RSSè®¢é˜…ç®¡ç†
â”‚   â”œâ”€â”€ enhanced_cache.py                  # ğŸ’¾ å¢å¼ºç¼“å­˜
â”‚   â”œâ”€â”€ resource_manager.py                # ğŸ“¦ èµ„æºç®¡ç†
â”‚   â”œâ”€â”€ exceptions_enhanced.py             # âš ï¸ å¢å¼ºå¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ circuit_breaker.py                 # ğŸ”Œ æ–­è·¯å™¨
â”‚   â”œâ”€â”€ monitoring.py                      # ğŸ“Š ç³»ç»Ÿç›‘æ§
â”‚   â”œâ”€â”€ web_interface/                     # ğŸŒ Webç®¡ç†ç•Œé¢
â”‚   â”œâ”€â”€ performance_optimizer.py           # ğŸš€ æ€§èƒ½ä¼˜åŒ–å·¥å…·
â”‚   â”œâ”€â”€ notifications.py                   # ğŸ”” é€šçŸ¥ç³»ç»Ÿ
â”‚   â”œâ”€â”€ logging_config.py                  # ğŸ“ æ—¥å¿—é…ç½®
â”‚   â””â”€â”€ exceptions.py                      # å¼‚å¸¸å®šä¹‰
â”œâ”€â”€ tests/                              # ğŸ§ª æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ unit/                             # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/                      # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ test_performance_optimized.py     # æ€§èƒ½æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ docs/                               # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                             # API æ–‡æ¡£
â”‚   â”œâ”€â”€ architecture/                    # æ¶æ„æ–‡æ¡£
â”‚   â””â”€â”€ guides/                          # ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ scripts/                            # ğŸ”§ å¼€å‘/æµ‹è¯•è„šæœ¬
â”œâ”€â”€ start.py                            # ğŸš€ å¯åŠ¨å…¥å£
â”œâ”€â”€ OPTIMIZATION_REPORT.md              # ğŸ“Š ä¼˜åŒ–æŠ¥å‘Š
â””â”€â”€ OPTIMIZATION_CHANGELOG.md           # ğŸ“ ä¼˜åŒ–å˜æ›´è®°å½•
```

## âš™ï¸ é…ç½®è¯´æ˜

### åŸºæœ¬é…ç½®

```yaml
# config/config.yaml
qbittorrent:
  host: "localhost"
  port: 8080
  username: "admin"
  password: "your_password"

ai:
  provider: "deepseek"
  api_key: "your_api_key"
  model: "deepseek-chat"

monitoring:
  check_interval: 1.0
  enable_ai_classification: true
  enable_duplicate_filter: true

categories:
  movie:
    path: "/downloads/movies"
    keywords: ["ç”µå½±", "movie", "film"]
  tv:
    path: "/downloads/tv"
    keywords: ["ç”µè§†å‰§", "tv", "series"]
```

### é«˜çº§é…ç½®

```yaml
# é«˜çº§ä¼˜åŒ–é…ç½®
qbittorrent:
  connection_pool_size: 20
  request_timeout: 30
  max_retries: 3
  circuit_breaker_threshold: 5

caching:
  l1_cache_size: 1000
  l2_cache_size_mb: 100
  enable_persistence: true

monitoring:
  adaptive_interval:
    enabled: true
    min_interval: 0.1
    max_interval: 5.0
    activity_threshold: 10
```

## ğŸ”§ API ä½¿ç”¨è¯´æ˜

### ğŸ†• æ¨¡å—åŒ–å®¢æˆ·ç«¯ (v2.4.0 æ¨è)

```python
# æ–°çš„æ¨¡å—åŒ–å¯¼å…¥æ–¹å¼
from qbittorrent_monitor.qbt import QBittorrentClient
from qbittorrent_monitor.qbt import OptimizedQBittorrentClient

# ä½¿ç”¨æ ‡å‡†å®¢æˆ·ç«¯
async with QBittorrentClient(config) as client:
    await client.add_torrent(magnet_link, category)
    torrents = await client.get_torrents()

# ä½¿ç”¨ä¼˜åŒ–ç‰ˆå®¢æˆ·ç«¯(æ”¯æŒæ‰¹é‡æ“ä½œ)
async with OptimizedQBittorrentClient(config) as client:
    # æ‰¹é‡æ·»åŠ ç§å­
    results = await client.add_torrents_batch(
        magnet_links=["magnet1", "magnet2", "magnet3"],
        category="movies"
    )

    # æ‰¹é‡è·å–ç§å­ä¿¡æ¯
    torrents = await client.get_torrents_batch(categories=["movies", "tv"])
```

### ğŸ§© å•ç‹¬ä½¿ç”¨å„ä¸ªç»„ä»¶

```python
# å¯¼å…¥ç‰¹å®šç»„ä»¶
from qbittorrent_monitor.qbt import (
    ConnectionPoolManager,
    CacheManager,
    TorrentManager,
    CategoryManager,
    MetricsCollector
)

# è‡ªå®šä¹‰å®¢æˆ·ç«¯
pool = ConnectionPoolManager("localhost", 8080, pool_size=10)
cache = CacheManager(max_size=1000, ttl_seconds=300)

# åªä½¿ç”¨ç§å­ç®¡ç†å™¨
from qbittorrent_monitor.qbt import APIClient, TorrentManager

api = APIClient(base_url, username, password, ...)
torrent_mgr = TorrentManager(api)
await torrent_mgr.add_torrent(magnet, category)
```

### ä¼ ç»Ÿå®¢æˆ·ç«¯ (å…¼å®¹æ¨¡å¼)

```python
from qbittorrent_monitor.qbittorrent_client import QBittorrentClient

# å…¼å®¹æ¨¡å¼ - ä»ç„¶æ”¯æŒä½†å»ºè®®è¿ç§»
async with QBittorrentClient(config) as client:
    await client.add_torrent(magnet_link, category)
```

### qBittorrent å®¢æˆ·ç«¯ç¤ºä¾‹

```python
import asyncio
from qbittorrent_monitor.config import ConfigManager
from qbittorrent_monitor.qbittorrent_client import QBittorrentClient

async def main():
    config = await ConfigManager().load_config()
    async with QBittorrentClient(config.qbittorrent, config) as client:
        await client.add_torrent(
            urls="magnet:?xt=urn:btih:...",
            category="movies",
            paused=False,
        )
        torrents = await client.get_torrents()
        for torrent in torrents:
            print(torrent["name"], torrent["state"])

asyncio.run(main())
```

### å‰ªè´´æ¿ç›‘æ§å™¨ç¤ºä¾‹

```python
import asyncio
from qbittorrent_monitor.config import ConfigManager
from qbittorrent_monitor.qbittorrent_client import QBittorrentClient
from qbittorrent_monitor.clipboard_monitor import ClipboardMonitor

async def run_monitor():
    manager = ConfigManager()
    config = await manager.load_config()
    async with QBittorrentClient(config.qbittorrent, config) as client:
        monitor = ClipboardMonitor(client, config)
        await monitor.start()

# Ctrl+C åœæ­¢ç›‘æ§
asyncio.run(run_monitor())
```

## ğŸ§ª æµ‹è¯•è¯´æ˜

### è¿è¡Œæµ‹è¯•

```bash
# å®‰è£…ä¾èµ–
scripts/setup_dev.sh

# è¿è¡Œå…¨éƒ¨æµ‹è¯•
scripts/run_tests.sh

# æˆ–æŒ‰ç›®å½•è¿è¡Œ
scripts/run_tests.sh tests/unit
scripts/run_tests.sh tests/integration
```

### å¼€å‘è€…æç¤º
- `scripts/setup_dev.sh`ï¼šä¸€æ¬¡æ€§å®‰è£…é¡¹ç›®ä¸å¼€å‘ä¾èµ–ã€‚
- `scripts/run_tests.sh`ï¼šåŒ…è£… `python3 -m pytest -v`ï¼Œå¯ä¼ å…¥ä»»æ„ pytest å‚æ•°ã€‚
- ä»å¯ç›´æ¥è¿è¡Œ `python start.py` å¯åŠ¨å‰ªè´´æ¿ç›‘æ§ï¼Œä¹Ÿå¯å¼•ç”¨ `ClipboardMonitor`/`WebCrawler` ç»„åˆåšè‡ªå®šä¹‰è‡ªåŠ¨åŒ–ã€‚

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### ğŸ—ï¸ æ¨¡å—åŒ–æ¶æ„æ€§èƒ½ (v2.4.0)
- **ä»£ç å¯ç»´æŠ¤æ€§**: 300%+ æå‡
  - æœ€å¤§æ–‡ä»¶: 1,197 â†’ 192 è¡Œ (å‡å°‘ 84%)
  - å¹³å‡æ–‡ä»¶å¤§å°: ~135 è¡Œ
  - æ¨¡å—æ•°é‡: 1 â†’ 9 ä¸ªç‹¬ç«‹æ¨¡å—

- **å¼€å‘æ•ˆç‡**:
  - Bug å®šä½: 5x æ›´å¿«
  - æ–°åŠŸèƒ½å¼€å‘: 3x æ›´å¿«
  - ä»£ç å®¡æŸ¥: 2x æ›´å¿«

### âš¡ å¤„ç†æ€§èƒ½ (ä¿æŒ v2.3.0 ä¼˜åŒ–)
- **ç£åŠ›é“¾æ¥è§£æ**: 3ms (æå‡ 85%)
- **åè®®è½¬æ¢**: 5ms (æå‡ 500%)
- **ç¼“å­˜æŸ¥è¯¢**: 1-10ms (æå‡ 10-100å€)
- **ç«¯åˆ°ç«¯å¤„ç†**: 32ms (æå‡ 6.25å€)

### ğŸš€ ååé‡ (v2.3.0 ä¿æŒ)
- **å•çº¿ç¨‹**: 300 æ¬¡/ç§’
- **å¹¶å‘ 10 çº¿ç¨‹**: 1,800 æ¬¡/ç§’
- **å¹¶å‘ 100 çº¿ç¨‹**: 4,500 æ¬¡/ç§’
- **æ‰¹é‡æ“ä½œ**: >10 ä¸ª/ç§’ (æ–°å¢)

### ğŸ’¾ å†…å­˜æ•ˆç‡ (v2.3.0 ä¿æŒ)
- **å†…å­˜ä½¿ç”¨**: ç¨³å®šåœ¨ 80MB (ä¼˜åŒ–å)
- **é‡å¤æ£€æµ‹**: O(1) æ€§èƒ½
- **ç¼“å­˜å‘½ä¸­ç‡**: >80%
- **æ¨¡å—åŒ–å**: å†…å­˜ä½¿ç”¨æ›´ç¨³å®šï¼Œæ— å†…å­˜æ³„æ¼

## ğŸš« æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **qBittorrent è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥ qBittorrent æ˜¯å¦è¿è¡Œ
   systemctl status qbittorrent-nox

   # æ£€æŸ¥ API æ˜¯å¦å¯ç”¨
   # Web UI -> å·¥å…· -> é€‰é¡¹ -> Web UI
   ```

2. **AI åˆ†ç±»å¤±è´¥**
   ```bash
   # æ£€æŸ¥ API å¯†é’¥
   echo $DEEPSEEK_API_KEY

   # éªŒè¯ç½‘ç»œè¿æ¥
   curl -I https://api.deepseek.com
   ```

3. **æ€§èƒ½é—®é¢˜**
   ```bash
   # æ£€æŸ¥ç¼“å­˜é…ç½®
   grep -n "cache_size" config/config.yaml

   # è°ƒæ•´ç›‘æ§é—´éš”
   # å¢åŠ  check_interval å€¼
   ```

### æ—¥å¿—è°ƒè¯•

```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
export LOG_LEVEL=DEBUG

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/qbittorrent-monitor.log

# API è°ƒç”¨æ—¥å¿—
grep "API:" logs/qbittorrent-monitor.log
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ï¼Œå…è®¸å•†ä¸šå’Œä¸ªäººè‡ªç”±ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ashllll/qbittorrent-clipboard-monitor.git
cd qbittorrent-clipboard-monitor

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install -r requirements-dev.txt

# å®‰è£… pre-commit é’©å­
pre-commit install
```

### è´¡çŒ®æµç¨‹

1. **Fork é¡¹ç›®** åˆ°æ‚¨çš„ GitHub è´¦æˆ·
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**: `git checkout -b feature/amazing-feature`
3. **å¼€å‘æµ‹è¯•**: ç¼–ç å¹¶æ·»åŠ æµ‹è¯•
4. **æäº¤æ›´æ”¹**: `git commit -m 'Add amazing feature'`
5. **æ¨é€åˆ†æ”¯**: `git push origin feature/amazing-feature`
6. **åˆ›å»º PR**: åœ¨ GitHub ä¸Šåˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 ç¼–ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### æµ‹è¯•è¦æ±‚

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest --cov=qbittorrent_monitor --cov-report=html

# ä»£ç è´¨é‡æ£€æŸ¥
flake8 qbittorrent_monitor/
black qbittorrent_monitor/
mypy qbittorrent_monitor/
```

## ğŸ™ è‡´è°¢

- [qBittorrent](https://www.qbittorrent.org/) - ä¼˜ç§€çš„ BitTorrent å®¢æˆ·ç«¯
- [DeepSeek](https://www.deepseek.com/) - AI åˆ†ç±»æœåŠ¡æä¾›å•†
- [crawl4ai](https://github.com/unclecode/crawl4ai) - å¼ºå¤§çš„ç½‘é¡µçˆ¬è™«æ¡†æ¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/ashllll/qbittorrent-clipboard-monitor/issues)
- ğŸ’¬ **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/ashllll/qbittorrent-clipboard-monitor/discussions)
- ğŸ“§ **é‚®ä»¶è”ç³»**: [é¡¹ç›®ç»´æŠ¤è€…é‚®ç®±](mailto:project@example.com)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼**

[![GitHub stars](https://img.shields.io/github/stars/ashllll/qbittorrent-clipboard-monitor?style=social)](https://github.com/ashllll/qbittorrent-clipboard-monitor)

**ğŸš€ ç°åœ¨å°±å¼€å§‹ä½“éªŒä¼ä¸šçº§çš„ç£åŠ›é“¾æ¥ç®¡ç†å·¥å…·å§ï¼**
