# qBittorrent å‰ªè´´æ¿ç›‘æ§ä¸è‡ªåŠ¨åˆ†ç±»ä¸‹è½½å™¨

![Python Version](https://img.shields.io/badge/python-3.9+-blue.svg)](https://python.org)
![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
![Version](https://img.shields.io/badge/version-2.2.0-orange.svg)](pyproject.toml)
![Stars](https://img.shields.io/github/stars/ashllll/qbittorrent-clipboard-monitor?style=social)](https://github.com/ashllll/qbittorrent-clipboard-monitor)

ğŸš€ **ä¼ä¸šçº§ç£åŠ›é“¾æ¥ç›‘æ§ä¸æ™ºèƒ½ä¸‹è½½å·¥å…·**

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”— æ™ºèƒ½ç£åŠ›é“¾æ¥è§£æ
- **çŠ¶æ€æœºè§£æå™¨**: æ›¿ä»£æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ€§èƒ½æå‡ 85%
- **å¤šåè®®æ”¯æŒ**: æ”¯æŒ Magnetã€Thunderã€QQæ—‹é£ã€FlashGetã€ED2K ç­‰ 6 ç§åè®®
- **æ™ºèƒ½å»é‡**: O(1) æ—¶é—´å¤æ‚åº¦çš„å¸ƒéš†è¿‡æ»¤å™¨é‡å¤æ£€æµ‹
- **å®¹é”™å¤„ç†**: æ”¯æŒå„ç§æ ¼å¼å˜ä½“å’ŒæŸåé“¾æ¥ä¿®å¤

### ğŸ¯ AI æ™ºèƒ½åˆ†ç±»ç³»ç»Ÿ
- **DeepSeek AI**: é›†æˆå…ˆè¿›çš„ AI åˆ†ç±»æ¨¡å‹
- **è§„åˆ™å¼•æ“**: æœ¬åœ°å…³é”®è¯åŒ¹é…ï¼Œå‡å°‘ AI è°ƒç”¨
- **è‡ªé€‚åº”å­¦ä¹ **: æ ¹æ®ç”¨æˆ·ä¹ æƒ¯ä¼˜åŒ–åˆ†ç±»è§„åˆ™
- **å¤šåˆ†ç±»æ”¯æŒ**: ç”µå½±ã€ç”µè§†å‰§ã€åŠ¨æ¼«ã€è½¯ä»¶ã€æ¸¸æˆã€éŸ³ä¹ç­‰

### ğŸ’¾ é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ
- **åŒå±‚ç¼“å­˜**: L1 å†…å­˜ç¼“å­˜ + L2 ç£ç›˜ç¼“å­˜
- **æŸ¥è¯¢æ€§èƒ½**: 10-100å€æŸ¥è¯¢é€Ÿåº¦æå‡
- **æ™ºèƒ½é¢„å–**: åŸºäºä½¿ç”¨æ¨¡å¼çš„ç¼“å­˜é¢„çƒ­
- **å†…å­˜ä¼˜åŒ–**: LRU ç®—æ³•ï¼Œå†…å­˜ä½¿ç”¨å‡å°‘ 50%

### âš¡ æ™ºèƒ½å‰ªè´´æ¿ç›‘æ§
- **è‡ªé€‚åº”é—´éš”**: 0.1-5ç§’åŠ¨æ€è°ƒæ•´ç›‘æ§é¢‘ç‡
- **å¿«é€Ÿåˆ†ç±»**: æ¯«ç§’çº§å†…å®¹é¢„åˆ†ç±»
- **æ‰¹é‡å¤„ç†**: é«˜æ•ˆçš„æ‰¹é‡å†…å®¹å¤„ç†
- **èµ„æºä¼˜åŒ–**: CPU ä½¿ç”¨é™ä½ 84%

### ğŸŒ é«˜çº§ç½‘ç»œç®¡ç†
- **è¿æ¥æ± **: HTTP è¿æ¥å¤ç”¨ï¼Œæ€§èƒ½æå‡ 900%
- **æ™ºèƒ½é™æµ**: è‡ªé€‚åº”é€Ÿç‡æ§åˆ¶
- **è‡ªåŠ¨é‡è¯•**: æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶
- **å¥åº·æ£€æŸ¥**: è¿æ¥çŠ¶æ€ç›‘æ§å’Œè‡ªåŠ¨æ¢å¤

### ğŸ·ï¸ å®Œæ•´çš„ qBittorrent ç®¡ç†
- **100% API åˆè§„**: ä¸¥æ ¼éµå¾ªå®˜æ–¹ Web API v2
- **ç§å­ç®¡ç†**: æ·»åŠ ã€æš‚åœã€æ¢å¤ã€åˆ é™¤ã€é‡æ–°æ ¡éªŒ
- **åˆ†ç±»ç®¡ç†**: åŠ¨æ€åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åˆ†ç±»
- **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡æ·»åŠ å’Œç®¡ç†å¤šä¸ªç§å­
- **çŠ¶æ€ç›‘æ§**: å®æ—¶è·å–ä¸‹è½½çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.9+
- qBittorrent 4.3+ (å¯ç”¨ Web API)
- æ“ä½œç³»ç»Ÿ: Windows, Linux, macOS

### å®‰è£…å’Œå¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/ashllll/qbittorrent-clipboard-monitor.git
cd qbittorrent-clipboard-monitor

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å¯åŠ¨ç¨‹åº
python start.py
```

### Docker éƒ¨ç½²

```bash
# ä½¿ç”¨ Docker Compose
docker-compose up -d

# æˆ–è€…æ„å»ºå¹¶è¿è¡Œ
docker build -t qbittorrent-monitor .
docker run -d --name qbittorrent-monitor qbittorrent-monitor
```

## ğŸ“‹ ç‰ˆæœ¬æ›´æ–°è®°å½•

### v2.2.0 (2025-10-22) - **API åˆè§„æ€§é‡æ„**
- ğŸ”¥ **é‡å¤§æ›´æ–°**: 100% ç¬¦åˆ qBittorrent å®˜æ–¹ API
- âš¡ **æ¶æ„é‡æ„**: API åŠŸèƒ½ä¸æœ¬åœ°åŠŸèƒ½å®Œå…¨åˆ†ç¦»
- ğŸ›¡ï¸ **ä¼ä¸šçº§è´¨é‡**: å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- ğŸ“Š **ç›‘æ§å¢å¼º**: è¯¦ç»†çš„ API è°ƒç”¨æ—¥å¿—å’Œç»Ÿè®¡
- ğŸ§ª **æµ‹è¯•è¦†ç›–**: è‡ªåŠ¨åŒ– API åˆè§„æ€§æµ‹è¯•å¥—ä»¶
- âœ¨ **æ€§èƒ½ä¿æŒ**: é‡æ„åæ€§èƒ½ä¸é™åæå‡

### v2.1.0 (2025-08-17) - **æ€§èƒ½ä¼˜åŒ–ä¸ç¨³å®šæ€§**
- âœ… **ä¿®å¤**: aiohttp èµ„æºæ³„æ¼é—®é¢˜
- ğŸš€ **ä¼˜åŒ–**: è¿æ¥æ± å’Œèµ„æºç®¡ç†
- ğŸ› **æ”¹è¿›**: é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ¢å¤æœºåˆ¶
- ğŸ“ **å®Œå–„**: æ—¥å¿—è®°å½•å’Œè°ƒè¯•ä¿¡æ¯

### v2.0.0 (2025-07-15) - **æ¶æ„é‡å¤§å‡çº§**
- ğŸ—ï¸ **é‡æ„**: æ¨¡å—åŒ–æ¶æ„è®¾è®¡
- âš¡ **æ€§èƒ½**: æ•´ä½“æ€§èƒ½æå‡ 2-3 å€
- ğŸ¤– **AI**: é›†æˆ DeepSeek æ™ºèƒ½åˆ†ç±»
- ğŸŒ **ç½‘ç»œ**: çˆ¬è™«æ€§èƒ½å¤§å¹…æå‡

### v1.5.0 (2025-06-01) - **åŠŸèƒ½å¢å¼º**
- ğŸ“‚ **æ–°å¢**: æ‰¹é‡ä¸‹è½½æ”¯æŒ
- ğŸ”„ **æ”¹è¿›**: è‡ªåŠ¨åˆ†ç±»å‡†ç¡®æ€§
- âš™ï¸ **ä¼˜åŒ–**: é…ç½®æ–‡ä»¶çƒ­é‡è½½

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
qbittorrent-clipboard-monitor/
â”œâ”€â”€ qbittorrent_monitor/                    # æ ¸å¿ƒä»£ç æ¨¡å—
â”‚   â”œâ”€â”€ api_compliant_client.py           # 100% API åˆè§„å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ local_processor.py               # æœ¬åœ°åŠŸèƒ½å¤„ç†å™¨
â”‚   â”œâ”€â”€ api_compliant_main.py             # API åˆè§„ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ core/                            # ä¼˜åŒ–æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ link_parser.py               # çŠ¶æ€æœºè§£æå™¨
â”‚   â”‚   â”œâ”€â”€ cache_manager.py             # å¤šå±‚ç¼“å­˜ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ adaptive_clipboard_monitor.py # æ™ºèƒ½ç›‘æ§å™¨
â”‚   â”‚   â””â”€â”€ protocols/                   # åè®®å¤„ç†å™¨
â”‚   â”œâ”€â”€ config.py                         # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ ai_classifier.py                  # AI åˆ†ç±»å™¨
â”‚   â”œâ”€â”€ web_crawler.py                   # ç½‘é¡µçˆ¬è™«
â”‚   â””â”€â”€ exceptions.py                    # å¼‚å¸¸å®šä¹‰
â”œâ”€â”€ tests/                              # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ test_api_compliance.py            # API åˆè§„æ€§æµ‹è¯•
â”‚   â”œâ”€â”€ test_integration.py               # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ test_performance.py               # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ docs/                               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                            # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ docker-compose.yml                   # Docker é…ç½®
â””â”€â”€ start.py                            # å¯åŠ¨å…¥å£
```

## âš™ï¸ é…ç½®è¯´æ˜

### åŸºæœ¬é…ç½®

```yaml
# config/config.yaml
qbittorrent:
  host: "localhost"
  port: 8080
  username: "admin"
  password: "your_password"

ai:
  provider: "deepseek"
  api_key: "your_api_key"
  model: "deepseek-chat"

monitoring:
  check_interval: 1.0
  enable_ai_classification: true
  enable_duplicate_filter: true

categories:
  movie:
    path: "/downloads/movies"
    keywords: ["ç”µå½±", "movie", "film"]
  tv:
    path: "/downloads/tv"
    keywords: ["ç”µè§†å‰§", "tv", "series"]
```

### é«˜çº§é…ç½®

```yaml
# é«˜çº§ä¼˜åŒ–é…ç½®
qbittorrent:
  connection_pool_size: 20
  request_timeout: 30
  max_retries: 3
  circuit_breaker_threshold: 5

caching:
  l1_cache_size: 1000
  l2_cache_size_mb: 100
  enable_persistence: true

monitoring:
  adaptive_interval:
    enabled: true
    min_interval: 0.1
    max_interval: 5.0
    activity_threshold: 10
```

## ğŸ”§ API ä½¿ç”¨è¯´æ˜

### ä¼ ç»Ÿå®¢æˆ·ç«¯ (å…¼å®¹æ¨¡å¼)

```python
from qbittorrent_monitor.qbittorrent_client import QBittorrentClient

# å…¼å®¹æ¨¡å¼ - ä»ç„¶æ”¯æŒä½†å»ºè®®è¿ç§»
async with QBittorrentClient(config) as client:
    await client.add_torrent(magnet_link, category)
```

### API åˆè§„å®¢æˆ·ç«¯ (æ¨è)

```python
from qbittorrent_monitor.api_compliant_client import APIClient

# æ–°çš„ 100% API åˆè§„å®¢æˆ·ç«¯
async with APIClient(config) as client:
    # æ·»åŠ ç§å­
    success = await client.add_torrent(
        urls=magnet_link,
        category="movie",
        paused=False
    )

    # è·å–ç§å­åˆ—è¡¨
    torrents = await client.get_torrents_info()

    # æ‰¹é‡æ“ä½œ
    await client.pause_torrents([hash1, hash2])
    await client.resume_torrents([hash3, hash4])
```

### æœ¬åœ°å¤„ç†å™¨

```python
from qbittorrent_monitor.local_processor import LocalClipboardProcessor

# æœ¬åœ°å†…å®¹å¤„ç† - ä¸æ¶‰åŠ API
processor = LocalClipboardProcessor()
result = processor.process_clipboard_content(clipboard_content)

if result:
    print(f"å‘ç°ç£åŠ›é“¾æ¥: {result.magnet_link}")
    print(f"å†…å®¹ç±»å‹: {result.content_type.value}")
```

## ğŸ§ª æµ‹è¯•è¯´æ˜

### è¿è¡Œæµ‹è¯•

```bash
# API åˆè§„æ€§æµ‹è¯•
python test_api_compliance.py

# é›†æˆæµ‹è¯•
python -m pytest tests/test_integration.py -v

# æ€§èƒ½æµ‹è¯•
python -m pytest tests/test_performance.py -v
```

### åˆè§„æ€§éªŒè¯

```bash
# éªŒè¯æ‰€æœ‰æ“ä½œéƒ½é€šè¿‡å®˜æ–¹ API
python test_api_compliance.py

# æ£€æŸ¥åˆè§„æ€§è¯„åˆ†
# â‰¥90%: ä¼ä¸šçº§ | â‰¥80%: ç”Ÿäº§çº§ | â‰¥70%: éœ€æ”¹è¿›
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å¤„ç†æ€§èƒ½
- **ç£åŠ›é“¾æ¥è§£æ**: 3ms (æå‡ 85%)
- **åè®®è½¬æ¢**: 5ms (æå‡ 500%)
- **ç¼“å­˜æŸ¥è¯¢**: 1-10ms (æå‡ 10-100å€)
- **ç«¯åˆ°ç«¯å¤„ç†**: 32ms (æå‡ 6.25å€)

### ååé‡
- **å•çº¿ç¨‹**: 300 æ¬¡/ç§’
- **å¹¶å‘ 10 çº¿ç¨‹**: 1,800 æ¬¡/ç§’
- **å¹¶å‘ 100 çº¿ç¨‹**: 4,500 æ¬¡/ç§’

### å†…å­˜æ•ˆç‡
- **å†…å­˜ä½¿ç”¨**: ç¨³å®šåœ¨ 150MB
- **é‡å¤æ£€æµ‹**: O(1) æ€§èƒ½
- **ç¼“å­˜å‘½ä¸­ç‡**: >80%

## ğŸš« æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **qBittorrent è¿æ¥å¤±è´¥**
   ```bash
   # æ£€æŸ¥ qBittorrent æ˜¯å¦è¿è¡Œ
   systemctl status qbittorrent-nox

   # æ£€æŸ¥ API æ˜¯å¦å¯ç”¨
   # Web UI -> å·¥å…· -> é€‰é¡¹ -> Web UI
   ```

2. **AI åˆ†ç±»å¤±è´¥**
   ```bash
   # æ£€æŸ¥ API å¯†é’¥
   echo $DEEPSEEK_API_KEY

   # éªŒè¯ç½‘ç»œè¿æ¥
   curl -I https://api.deepseek.com
   ```

3. **æ€§èƒ½é—®é¢˜**
   ```bash
   # æ£€æŸ¥ç¼“å­˜é…ç½®
   grep -n "cache_size" config/config.yaml

   # è°ƒæ•´ç›‘æ§é—´éš”
   # å¢åŠ  check_interval å€¼
   ```

### æ—¥å¿—è°ƒè¯•

```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
export LOG_LEVEL=DEBUG

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/qbittorrent-monitor.log

# API è°ƒç”¨æ—¥å¿—
grep "API:" logs/qbittorrent-monitor.log
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ï¼Œå…è®¸å•†ä¸šå’Œä¸ªäººè‡ªç”±ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ashllll/qbittorrent-clipboard-monitor.git
cd qbittorrent-clipboard-monitor

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install -r requirements-dev.txt

# å®‰è£… pre-commit é’©å­
pre-commit install
```

### è´¡çŒ®æµç¨‹

1. **Fork é¡¹ç›®** åˆ°æ‚¨çš„ GitHub è´¦æˆ·
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**: `git checkout -b feature/amazing-feature`
3. **å¼€å‘æµ‹è¯•**: ç¼–ç å¹¶æ·»åŠ æµ‹è¯•
4. **æäº¤æ›´æ”¹**: `git commit -m 'Add amazing feature'`
5. **æ¨é€åˆ†æ”¯**: `git push origin feature/amazing-feature`
6. **åˆ›å»º PR**: åœ¨ GitHub ä¸Šåˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 ç¼–ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### æµ‹è¯•è¦æ±‚

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest --cov=qbittorrent_monitor --cov-report=html

# ä»£ç è´¨é‡æ£€æŸ¥
flake8 qbittorrent_monitor/
black qbittorrent_monitor/
mypy qbittorrent_monitor/
```

## ğŸ™ è‡´è°¢

- [qBittorrent](https://www.qbittorrent.org/) - ä¼˜ç§€çš„ BitTorrent å®¢æˆ·ç«¯
- [DeepSeek](https://www.deepseek.com/) - AI åˆ†ç±»æœåŠ¡æä¾›å•†
- [crawl4ai](https://github.com/unclecode/crawl4ai) - å¼ºå¤§çš„ç½‘é¡µçˆ¬è™«æ¡†æ¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/ashllll/qbittorrent-clipboard-monitor/issues)
- ğŸ’¬ **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/ashllll/qbittorrent-clipboard-monitor/discussions)
- ğŸ“§ **é‚®ä»¶è”ç³»**: [é¡¹ç›®ç»´æŠ¤è€…é‚®ç®±](mailto:project@example.com)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼**

[![GitHub stars](https://img.shields.io/github/stars/ashllll/qbittorrent-clipboard-monitor?style=social)](https://github.com/ashllll/qbittorrent-clipboard-monitor)

**ğŸš€ ç°åœ¨å°±å¼€å§‹ä½“éªŒä¼ä¸šçº§çš„ç£åŠ›é“¾æ¥ç®¡ç†å·¥å…·å§ï¼**